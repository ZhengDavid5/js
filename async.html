<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!---
async 基本
  返回promise对象  可以使用then方法添加回调函数，当函数遇到await就会先返回，等到异步操作完成，再接着执行函数体后面的语句
  --->
<script>
  async function getTime() {
    console.log("---getTime")
      await  setTimeout(()=>{
              console.log("3s后")
          },3000)
      console.log("打印")
  }//此函数调用会先直接先出现 打印  ,再出现3s后  因为await后
  async function getTimeForAwait() {
      console.log("---getTime")
      await new Promise((resolve,reject)=>{
          debugger
          setTimeout(resolve,3000)   //setTime  第一个参数接受functon  type判断了下resolve为方法 resolve为调用
      })
      console.log("打印")
  }//此函数会先打印3s后  再显示打印
  //getTime()
  // getTimeForAwait()
</script>
<!---
  async  then  处理
--->
<script>
   function getSomeString() {
     return  new Promise((resolve,reject)=>{
         setTimeout(resolve,3000,"3s后拿到值")
     })
 }
   function getErrorString() {
       return   new Promise((resolve,reject)=>{
           throw new Error("错误")
       })
   }
  async  function printSome() {
       console.log("先取某个值")
      await getSomeString().then(result=>{
          console.log("取到的东西:"+result)
      }).catch(e=>{
          conso.log(e)
      })

      await getErrorString().then(result=>{
          console.log("取到的东西:"+result)
      }).catch(e=>{
          console.log("捕捉到异常"+e)
      })
   }
  // printSome()

</script>
</body>
</html>